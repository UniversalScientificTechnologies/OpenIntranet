
Zobrazení dle komponent
{% for reservation_group in reservations_groups %}

{%set count_current = reservation_group['prices']['current_warehouse']['count'] %}
{%set count_other = reservation_group['prices']['other_warehouse']['count'] - count_current %}
{%set enought_current = (count_current - reservation_group['count']) > 0 %}
{%set enought_all = (reservation_group['prices']['other_warehouse']['count'] - reservation_group['count'])>0 %}

<div class="card">
	<div class="card-header d-flex justify-content-between {%if not enought_all %} bg-danger {% elif not enought_current %} bg-warning {%end%}">
		<span class="h4">
			<span class="badge bg-primary">{{reservation_group['count']}} x</span> 
			<a class="badge bg-success hover-item" item_id="{{reservation_group['component'][0]['_id']}}" href="./component/{{reservation_group['component'][0]['_id']}}/"> <i class="bi bi-cpu"> </i>{{reservation_group['component'][0]['name']}}</a>
			<span class="badge bg-success"> <i class="bi bi-cart-plus"></i> </span> 
		</span> 
		<span class="text-muted">({{reservation_group['component'][0]['_id']}})</span>
		<span class="h5" data-toggle="tooltip" title="Aktuální počet kusů ve skladu. Rezervace zde nejsou zahrnuty"> <span class="badge bg-secondary"> <i class="bi bi-shop"></i> {{count_current}} ks</span> <span class="badge bg-secondary"><i class="bi bi-building"></i> {{count_other}} ks</span></span>
	</div>

	<div class="card-body">

	</div>

	<div class="card-body">
		{%for reservation in reservation_group['reservations'] %}<div>
			<span>{{reservation.get('reserved', '--')}} ks</span> - 
			<a href="/production/{{reservation['origin_id']}}/edit/" target="__blank__">{{reservation['production_info'][0]['name'] }}</a>
			<span>{{reservation.get('origin', '--')}} </span>
			{{reservation.get('origin_id', '--')}}

		</div>{%end%}
	</div>
</div>


{%end%}